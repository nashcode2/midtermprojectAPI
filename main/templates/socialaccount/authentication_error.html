{% load i18n %}
<!DOCTYPE html>
<html>
<head>
    <title>{% trans "Third-Party Login Error" %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    {% load static %}
    <link rel="stylesheet" href="{% static 'main/style.css' %}?v=2">
    <style>
        body { font-family: Inter, Arial, sans-serif; color:#0f172a; min-height:100vh; display:flex; align-items:center; justify-content:center; background: #f8fafc; }
        .error-box { background:#ffffff; padding:36px; border-radius:16px; width:420px; box-shadow: 0 15px 40px rgba(2,6,23,.12); text-align: center; }
        .error-box h1 { margin:0 0 12px 0; font-size:22px; font-weight:800; color:#dc2626; }
        .error-box p { margin:0 0 18px 0; color:#6b7280; font-size:14px; line-height: 1.5; }
        .btn { display: inline-block; margin-top:14px; padding:12px 24px; background:#6d28d9; border:none; color:#ffffff; font-weight:700; border-radius:10px; text-decoration: none; }
        .btn:hover { filter: brightness(1.05); }
        .debug-info { background: #f3f4f6; padding: 16px; border-radius: 8px; margin: 16px 0; text-align: left; font-size: 12px; }
    </style>
</head>
<body>
    <div class="error-box">
        <h1>ðŸš« Login Failed</h1>
        <p>Sorry, we couldn't complete your login with Facebook. This usually happens due to a configuration issue.</p>
        
        {% if debug %}
        <div class="debug-info">
            <strong>Debug Information:</strong><br>
            <strong>Error:</strong> {{ exception|default:"Unknown error" }}<br>
            <strong>Provider:</strong> {{ provider|default:"facebook" }}<br>
            <strong>User Agent:</strong> {{ request.META.HTTP_USER_AGENT|truncatechars:50 }}<br>
            <strong>URL:</strong> {{ request.get_full_path }}<br>
        </div>
        {% endif %}
        
        <p><strong>Common solutions:</strong></p>
        <ul style="text-align: left; color: #6b7280; font-size: 13px; margin: 16px 0;">
            <li>Check Facebook app configuration</li>
            <li>Verify redirect URI matches exactly</li>
            <li>Ensure app is in correct mode (Development/Live)</li>
            <li>Clear browser cookies and try again</li>
        </ul>
        
        <a href="{% url 'account_login' %}" class="btn">Try Again</a>
    </div>
</body>
</html>